<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>I18n.locale on Icebergist</title>
    <link>http://blog.orangeiceberg.com/tags/i18n/index.locale/</link>
    <description>Recent content in I18n.locale on Icebergist</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 30 May 2016 10:06:00 +0200</lastBuildDate>
    <atom:link href="http://blog.orangeiceberg.com/tags/i18n.locale/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Show part of a Rails template in other locale</title>
      <link>http://blog.orangeiceberg.com/posts/show-part-of-a-rails-template-in-other-locale</link>
      <pubDate>Mon, 30 May 2016 10:06:00 +0200</pubDate>
      
      <guid>http://blog.orangeiceberg.com/posts/show-part-of-a-rails-template-in-other-locale</guid>
      <description>

&lt;p&gt;I recently worked on a Rails project, which had parts of pages in different languages. That may be a problem if you have already translated their entire text to all required languages. You can even be tempted to hardcode parts of the text into other languages. Fortunately, there is an elegant way to solve that problem, just wrap parts of template or partials into blocks with desired locale, like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;&amp;lt;% I18n.with_locale(&#39;en&#39;) do %&amp;gt;
  ...part of your template
  or
  &amp;lt;%= render partial: &#39;some/partial&#39; %&amp;gt;
&amp;lt;% end %&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;example:87119108ea1faf72eb52a6c753eb4dc7&#34;&gt;Example&lt;/h3&gt;

&lt;p&gt;Suppose, there is a template with only header and two paragraphs.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;h1&amp;gt;&amp;lt;%= t(&#39;my_great_header&#39;) %&amp;gt;&amp;lt;/h1&amp;gt;

&amp;lt;p&amp;gt;&amp;lt;%= t(&#39;first_paragraph&#39;) %&amp;gt;&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;&amp;lt;%= t(&#39;second_paragraph&#39;) %&amp;gt;&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And locale in English and French for that template.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# in config/locales/en.yml
en:
  my_great_header: &amp;quot;My English great header&amp;quot;
  first_paragraph: &amp;quot;First English paragraph&amp;quot;
  second_paragraph: &amp;quot;Second English paragraph&amp;quot;

# in config/locales/fr.yml
fr:
  my_great_header: &amp;quot;My French great header&amp;quot;
  first_paragraph: &amp;quot;First French paragraph&amp;quot;
  second_paragraph: &amp;quot;Second French paragraph&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And client wants first paragraph to always be in English.&lt;/p&gt;

&lt;p&gt;Just wrap first paragraph in block with locale &lt;code&gt;&#39;en&lt;/code&gt;, like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;h1&amp;gt;&amp;lt;%= t(&#39;my_great_header&#39;) %&amp;gt;&amp;lt;/h1&amp;gt;

&amp;lt;% I18n.with_locale(&#39;en&#39;) do %&amp;gt;
  &amp;lt;p&amp;gt;&amp;lt;%= t(&#39;first_paragraph&#39;) %&amp;gt;&amp;lt;/p&amp;gt;
&amp;lt;% end %&amp;gt;
&amp;lt;p&amp;gt;&amp;lt;%= t(&#39;second_paragraph&#39;) %&amp;gt;&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and when you switch language to Franch result will be:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;My French great header

First English paragraph

Second French paragraph
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I hope that this helps. Have a nice day.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>