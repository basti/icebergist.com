<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Show part of a Rails template in other language - Icebergist</title>
  <meta name="author" content="Orange Iceberg">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://icebergist.com/posts/display-part-of-rails-template-with-different-locale">
  <link href="http://feeds.feedburner.com/icebergist" rel="alternate" title="Icebergist" type="application/atom+xml">

  <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/favicons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/favicons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/favicons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/favicons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/favicons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/favicons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/favicons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/favicons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4735545-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <h1>
              <a href="/">Icebergist</a>
              
                <small>Exploring hidden depths of web development</small>
              
            </h1>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="http://feeds.feedburner.com/icebergist" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:icebergist.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <article class="hentry" role="article">
      
  <header class="page-header">
    
      <p class="meta text-muted">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-05-30T10:06:00+02:00" pubdate data-updated="true">May 30<span>th</span>, 2016</time>
        | 
  


  <span class="glyphicon glyphicon-user"></span>
  <span class="byline author vcard">Posted by
    <span class="fn">
      
        <a href="http://orangeiceberg.com/about/">Ivica Lakatoš</a>
      
    </span>
  </span>


        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://icebergist.com">Comments</a>
        
      </p>
    
    
    <h1 class="entry-title">
        Show Part of a Rails Template in Other Language
        
    </h1>
    
  </header>


<div class="entry-content clearfix"><p>I recently worked on a Rails project, which had parts of pages in different languages. That may be a problem if you have already translated their entire text to all required languages. You can even be tempted to hardcode parts of the text into other languages. Fortunately, there is an elegant way to solve that problem, just wrap parts of template or partials into blocks with desired locale, like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">% I18n.with_locale(&#39;en&#39;) </span><span class="k">do</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  ...part of your template</span>
</span><span class='line'><span class="sx">  or</span>
</span><span class='line'><span class="sx">  &lt;%= render partial: &#39;some/partial&#39; %&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example</h3>

<p>Suppose, there is a template with only header and two paragraphs.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;&lt;</span><span class="sx">%= t(&#39;my_great_header&#39;) %&gt;&lt;/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sx">&lt;p&gt;&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="s1">&#39;first_paragraph&#39;</span><span class="p">)</span> <span class="sx">%&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="s1">&#39;second_paragraph&#39;</span><span class="p">)</span> <span class="sx">%&gt;&lt;/p&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And locale in English and French for that template.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># in config/locales/en.yml</span>
</span><span class='line'><span class="ss">en</span><span class="p">:</span>
</span><span class='line'>  <span class="n">my_great_header</span><span class="p">:</span> <span class="s2">&quot;My English great header&quot;</span>
</span><span class='line'>  <span class="n">first_paragraph</span><span class="p">:</span> <span class="s2">&quot;First English paragraph&quot;</span>
</span><span class='line'>  <span class="n">second_paragraph</span><span class="p">:</span> <span class="s2">&quot;Second English paragraph&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># in config/locales/fr.yml</span>
</span><span class='line'><span class="ss">fr</span><span class="p">:</span>
</span><span class='line'>  <span class="n">my_great_header</span><span class="p">:</span> <span class="s2">&quot;My French great header&quot;</span>
</span><span class='line'>  <span class="n">first_paragraph</span><span class="p">:</span> <span class="s2">&quot;First French paragraph&quot;</span>
</span><span class='line'>  <span class="n">second_paragraph</span><span class="p">:</span> <span class="s2">&quot;Second French paragraph&quot;</span>
</span></code></pre></td></tr></table></div></figure>




<!--more-->


<p>And client wants first paragraph to always be in English.</p>

<p>Just wrap first paragraph in block with locale <code>'en</code>, like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;&lt;</span><span class="sx">%= t(&#39;my_great_header&#39;) %&gt;&lt;/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sx">&lt;% I18n.with_locale(&#39;en&#39;) do %&gt;</span>
</span><span class='line'><span class="sx">  &lt;p&gt;&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="s1">&#39;first_paragraph&#39;</span><span class="p">)</span> <span class="sx">%&gt;&lt;/p&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">% end %&gt;</span>
</span><span class='line'><span class="sx">&lt;p&gt;</span><span class="o">&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="s1">&#39;second_paragraph&#39;</span><span class="p">)</span> <span class="sx">%&gt;&lt;/p&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>and when you switch language to Franch result will be:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>My French great header
</span><span class='line'>
</span><span class='line'>First English paragraph
</span><span class='line'>
</span><span class='line'>Second French paragraph
</span></code></pre></td></tr></table></div></figure>


<p>I hope that this helps. Have a nice day.</p>
</div>


      <footer>
        <p class="meta text-muted">
          
  


  <span class="glyphicon glyphicon-user"></span>
  <span class="byline author vcard">Posted by
    <span class="fn">
      
        <a href="http://orangeiceberg.com/about/">Ivica Lakatoš</a>
      
    </span>
  </span>


          












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-05-30T10:06:00+02:00" pubdate data-updated="true">May 30<span>th</span>, 2016</time>
          

<span class="glyphicon glyphicon-tags"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/category/ruby-and-rails/'>Ruby and Rails</a>
  
</span>


          

<span class="tags">
  
    Tags:
  
  
    <a class='tag' href='/tag/I18n-locale/'>I18n.locale</a>, <a class='tag' href='/tag/rails/'>rails</a>, <a class='tag' href='/tag/ruby/'>ruby</a>
  
</span>


        </p>
        
          <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://icebergist.com/posts/display-part-of-rails-template-with-different-locale/" data-via="icebergist" data-counturl="http://icebergist.com/posts/display-part-of-rails-template-with-different-locale/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/posts/deploying-with-capistrano-3/" title="Previous Post: Deploying Rails app with Capistrano 3">&laquo; Deploying Rails app with Capistrano 3</a></li>
            
            
          </ul>
        
      </footer>
    </article>
    
      <section>
        <h1>Comments</h1>
        <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
      </section>
    
  </div>

  
  <aside class="sidebar col-md-3">
    
      <section>
  <h2>About us</h2>
  <div>
    <a href="http://orangeiceberg.com">
      <img src="http://orangeiceberg.com/images/oi-logo-footer.png" class="sidebar_avatar" alt="Orange Iceberg web development consultancy" />
    </a>
  </div>
  <div id="sidebar-about">
    <p>
      Hello!
      We are <a href="http://orangeiceberg.com">Orange Iceberg</a> a team of Ruby developers.
    </p>
    <p>
      <strong>Icebergist</strong> is a place where we write about technical challenges we face.
      We build Ruby on Rails web applications, so it's mainly about Ruby and Ruby on Rails.
    </p>
    <p class="hire-us-box">
      <strong>We are available for hire.</strong>
      <br />
      <a href="http://orangeiceberg.com/contact">Find out how we can help you.</a>
    </p>
  </div>
</section>
<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item active" href="/posts/display-part-of-rails-template-with-different-locale/">Show Part of a Rails Template in Other Language</a>
    
    <a class="list-group-item " href="/posts/deploying-with-capistrano-3/">Deploying Rails App With Capistrano 3</a>
    
    <a class="list-group-item " href="/posts/rake-db-migrate-vs-rake-db-schema-load/">Rake Db:schema:load vs Rake Db:migrate</a>
    
    <a class="list-group-item " href="/posts/headless-firefox-in-ubuntu-on-virtual-box-for-cucumber-testing/">Headless Firefox in Ubuntu on VirtualBox for Cucumber Testing</a>
    
    <a class="list-group-item " href="/posts/import-and-export-mysql-dump/">Import and Export MySQL Dump</a>
    
  </div>
  <div class="panel-heading">
    <a href="/blog/archives/">See more posts</a>
  </div>
</section>
<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Categories</h3>
  </div>
  <div class="list-group">
    
    
    <a class="list-group-item " href="/category/misc/index.html">
        <span class="badge">11</span>
        Misc
      </a>
    
    
    <a class="list-group-item " href="/category/javascript/index.html">
        <span class="badge">1</span>
        Javascript
      </a>
    
    
    <a class="list-group-item " href="/category/ruby-and-rails/index.html">
        <span class="badge">19</span>
        Ruby and Rails
      </a>
    
    
    <a class="list-group-item " href="/category/this-should-be-interesting---weekly/index.html">
        <span class="badge">2</span>
        This should be interesting - weekly
      </a>
    
    
    <a class="list-group-item " href="/category/php/index.html">
        <span class="badge">1</span>
        PHP
      </a>
    
    
    <a class="list-group-item " href="/category/testing/index.html">
        <span class="badge">2</span>
        Testing
      </a>
    
  </div>
</section>
<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Tags</h3>
  </div>
  <div class="tag-cloud">
    <span class='rank-5'><a href='/tag/vagrant'>vagrant</a></span> <span class='rank-5'><a href='/tag/codeigniter'>codeigniter</a></span> <span class='rank-5'><a href='/tag/deployment'>deployment</a></span> <span class='rank-5'><a href='/tag/admin'>admin</a></span> <span class='rank-5'><a href='/tag/password-protected'>password protected</a></span> <span class='rank-5'><a href='/tag/Javascript'>Javascript</a></span> <span class='rank-5'><a href='/tag/erkanaauth'>erkanaauth</a></span> <span class='rank-5'><a href='/tag/cucumber'>cucumber</a></span> <span class='rank-5'><a href='/tag/heroku'>heroku</a></span> <span class='rank-5'><a href='/tag/devise'>devise</a></span> <span class='rank-5'><a href='/tag/css'>css</a></span> <span class='rank-5'><a href='/tag/sqlite'>sqlite</a></span> <span class='rank-5'><a href='/tag/capistrano-rbenv'>capistrano-rbenv</a></span> <span class='rank-5'><a href='/tag/mysql'>mysql</a></span> <span class='rank-4'><a href='/tag/linux'>linux</a></span> <span class='rank-5'><a href='/tag/mac'>mac</a></span> <span class='rank-5'><a href='/tag/hosting'>hosting</a></span> <span class='rank-5'><a href='/tag/rake-task'>rake task</a></span> <span class='rank-5'><a href='/tag/capistrano-3'>capistrano 3</a></span> <span class='rank-5'><a href='/tag/carrierwave'>carrierwave</a></span> <span class='rank-5'><a href='/tag/rails3'>rails3</a></span> <span class='rank-5'><a href='/tag/I18n-locale'>I18n.locale</a></span> <span class='rank-3'><a href='/tag/howto'>howto</a></span> <span class='rank-5'><a href='/tag/PHP'>PHP</a></span> <span class='rank-5'><a href='/tag/selenium-webdriver'>selenium-webdriver</a></span> <span class='rank-4'><a href='/tag/ubuntu'>ubuntu</a></span> <span class='rank-5'><a href='/tag/scaffold'>scaffold</a></span> <span class='rank-5'><a href='/tag/tutorial'>tutorial</a></span> <span class='rank-5'><a href='/tag/amazon-s3'>amazon s3</a></span> <span class='rank-5'><a href='/tag/rails4'>rails4</a></span> <span class='rank-5'><a href='/tag/tdd'>tdd</a></span> <span class='rank-5'><a href='/tag/cloud-computing'>cloud computing</a></span> <span class='rank-2'><a href='/tag/ruby'>ruby</a></span> <span class='rank-5'><a href='/tag/rest'>rest</a></span> <span class='rank-5'><a href='/tag/virtualbox'>virtualbox</a></span> <span class='rank-5'><a href='/tag/globalize'>globalize</a></span> <span class='rank-3'><a href='/tag/tips'>tips</a></span> <span class='rank-5'><a href='/tag/factorygirl'>factorygirl</a></span> <span class='rank-5'><a href='/tag/edge'>edge</a></span> <span class='rank-5'><a href='/tag/factory-girl'>factory_girl</a></span> <span class='rank-5'><a href='/tag/rspec'>rspec</a></span> <span class='rank-5'><a href='/tag/capistrano-rails'>capistrano-rails</a></span> <span class='rank-5'><a href='/tag/restful'>restful</a></span> <span class='rank-4'><a href='/tag/links'>links</a></span> <span class='rank-5'><a href='/tag/postgres'>postgres</a></span> <span class='rank-5'><a href='/tag/paperclip'>paperclip</a></span> <span class='rank-1'><a href='/tag/rails'>rails</a></span> <span class='rank-5'><a href='/tag/weekly'>weekly</a></span> <span class='rank-5'><a href='/tag/resources'>resources</a></span> 
  </div>
</section>


    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
    <img alt="Creative Commons License" style="border-width:0;float:left;padding-right:5px;" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" />
  </a>
  <span xmlns:dc="http://purl.org/dc/elements/1.1/">icebergist.com</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 Unported License</a>.

  <!-- Copyright &copy; 2016 - Orange Iceberg<br> -->
  <br />
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'icebergist';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://icebergist.com/posts/display-part-of-rails-template-with-different-locale/';
        var disqus_url = 'http://icebergist.com/posts/display-part-of-rails-template-with-different-locale/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
